\documentclass[tikz]{standalone}
\usepackage{hepnames}
\usepackage{xpatch}
\makeatletter
\xpatchcmd\@HepConStyle
 {\edef\@upcode{\updefault}}
 {\ifdefined\shapedefault\edef\@upcode{\shapedefault}\else\edef\@upcode{\updefault}\fi}
 {}{}
\makeatother
\usepackage{tikz-feynman}
\makeatletter
\tikzfeynmanset{compat=\tikzfeynman@version@major.\tikzfeynman@version@minor.\tikzfeynman@version@patch}
\makeatother

\begin{document}

\feynmandiagram[
    xscale= 1.4,
    horizontal=e1 to e4,
    horizontal=e2 to e3,
  ] {
    e2 [particle = \( \Pelectron \)] -- [fermion, momentum'=\( p_{1} \)] v1 [dot, label = above:\( \scriptstyle{a \rightarrow c} \)] -- [fermion, momentum'=\( p_{3} \)] e3 [particle = \( \Pelectron \)],
    e1 [particle = \( \Pelectron \)] -- [fermion, momentum=\( p_{2} \)]  v2 [dot, label = below:\( \scriptstyle{b \rightarrow d} \)] -- [fermion, momentum=\( p_{4} \)] e4 [particle = \( \Pelectron \)],
    v1 -- [boson, edge label'=\( \gamma \), momentum=\( q \)] v2,
};

\end{document}
